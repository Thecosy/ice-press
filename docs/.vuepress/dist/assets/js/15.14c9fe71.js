(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{492:function(s,a,n){"use strict";n.r(a);var t=n(20),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"定时任务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#定时任务"}},[s._v("#")]),s._v(" 定时任务")]),s._v(" "),n("p",[s._v("对于简单的定时任务用 "),n("code",[s._v("Spring")]),s._v("的 "),n("code",[s._v("@Scheduled")]),s._v(" 注解即可，如需要动态管理定时任务就需要使用到 "),n("code",[s._v("Quartz")]),s._v("。本系统的动态定时任务源码位于 "),n("code",[s._v("eldamin-system -> modules -> quartz")]),s._v("，使用流程如下")]),s._v(" "),n("h2",{attrs:{id:"任务处理类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#任务处理类"}},[s._v("#")]),s._v(" 任务处理类")]),s._v(" "),n("div",{staticClass:"language-java line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-java"}},[n("code",[n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Slf4j")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Component")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("TestTask")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"执行成功"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("run1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"执行成功，参数为： {}"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" str"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h2",{attrs:{id:"创建定时任务"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建定时任务"}},[s._v("#")]),s._v(" 创建定时任务")]),s._v(" "),n("p",[s._v("打开定时任务页面，点击新增按钮创建定时任务，部分参数解释如下：")]),s._v(" "),n("ul",[n("li",[s._v("Bean名称：Spring Bean名称，如： testTask")]),s._v(" "),n("li",[s._v("方法名称：对应后台任务方法名称 方法参数：对应后台任务方法名称值，没有可不填")]),s._v(" "),n("li",[s._v("cron表达式：可查询官方cron表达式介绍")]),s._v(" "),n("li",[s._v("任务负责人与告警邮箱：支持多个邮箱，定时任务执行失败邮箱提醒")]),s._v(" "),n("li",[s._v("子任务ID：现支持添加子任务，支持多个子任务，按顺序执行")]),s._v(" "),n("li",[s._v("状态：是否启动定时任务")])]),s._v(" "),n("h2",{attrs:{id:"常用cron表达式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#常用cron表达式"}},[s._v("#")]),s._v(" 常用cron表达式")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('0 0 10,14,16 * * ? 每天上午10点，下午2点，4点 \n0 0/30 9-17 * * ? 朝九晚五工作时间内每半小时 \n0 0 12 ? * WED 表示每个星期三中午12点 \n"0 0 12 * * ?" 每天中午12点触发 \n"0 15 10 ? * *" 每天上午10:15触发 \n"0 15 10 * * ?" 每天上午10:15触发 \n"0 15 10 * * ? *" 每天上午10:15触发 \n"0 15 10 * * ? 2005" 2005年的每天上午10:15触发 \n"0 * 14 * * ?" 在每天下午2点到下午2:59期间的每1分钟触发 \n"0 0/5 14 * * ?" 在每天下午2点到下午2:55期间的每5分钟触发 \n"0 0/5 14,18 * * ?" 在每天下午2点到2:55期间和下午6点到6:55期间的每5分钟触发 \n"0 0-5 14 * * ?" 在每天下午2点到下午2:05期间的每1分钟触发 \n"0 10,44 14 ? 3 WED" 每年三月的星期三的下午2:10和2:44触发 \n"0 15 10 ? * MON-FRI" 周一至周五的上午10:15触发 \n"0 15 10 15 * ?" 每月15日上午10:15触发 \n"0 15 10 L * ?" 每月最后一日的上午10:15触发 \n"0 15 10 ? * 6L" 每月的最后一个星期五上午10:15触发 \n"0 15 10 ? * 6L 2002-2005" 2002年至2005年的每月的最后一个星期五上午10:15触发 \n"0 15 10 ? * 6#3" 每月的第三个星期五上午10:15触发\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("Vssue",{attrs:{title:s.$title}})],1)}),[],!1,null,null,null);a.default=e.exports}}]);